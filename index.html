<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Team Points Tracker</title>
  <style>
    :root {
      --red: #ff5a5f;
      --blue: #3498db;
      --green: #2ecc71;
      --yellow: #f1c40f;
      --background: #f8f9fa;
      --text: #2d3436;
      --card: #ffffff;
      --shadow: rgba(0, 0, 0, 0.1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    }

    body {
      background-color: var(--background);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      transition: background-color 0.3s ease;
    }

    header {
      text-align: center;
      padding: 2rem 1rem;
    }

    .leaderboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      padding: 0 1rem;
    }

    .leaderboard-title {
      font-size: 1.8rem;
      font-weight: bold;
      background: linear-gradient(45deg, #f1c40f, #e67e22);
      background-clip: text;
      -webkit-background-clip: text;
      color: transparent;
      text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);
    }

    .trophy-icon {
      font-size: 2.2rem;
      color: gold;
      text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);
      margin-right: 0.5rem;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
      animation: fadeIn 0.8s ease-out;
      text-align: center;
    }

    .container {
      max-width: 1000px;
      width: 90%;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      padding: 1rem;
    }

    .team-card {
      background-color: var(--card);
      border-radius: 16px;
      padding: 1.5rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      display: flex;
      align-items: center;
      position: relative;
      overflow: hidden;
      transform: translateY(0);
      transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      margin-bottom: 1rem;
      border-left: 8px solid transparent;
    }

    .team-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    }
    
    .red {
      border-left-color: var(--red);
      background: linear-gradient(to right, rgba(255, 90, 95, 0.15), rgba(255, 90, 95, 0.05) 70%, transparent);
    }
    
    .blue {
      border-left-color: var(--blue);
      background: linear-gradient(to right, rgba(52, 152, 219, 0.15), rgba(52, 152, 219, 0.05) 70%, transparent);
    }
    
    .green {
      border-left-color: var(--green);
      background: linear-gradient(to right, rgba(46, 204, 113, 0.15), rgba(46, 204, 113, 0.05) 70%, transparent);
    }
    
    .yellow {
      border-left-color: var(--yellow);
      background: linear-gradient(to right, rgba(241, 196, 15, 0.15), rgba(241, 196, 15, 0.05) 70%, transparent);
    }

    .rank {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background-color: rgba(0, 0, 0, 0.05);
      color: #333;
      font-weight: bold;
      font-size: 0.95rem;
      margin-right: 1.2rem;
      flex-shrink: 0;
      transition: all 0.3s ease;
    }
    
    .team-color {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      margin-right: 1.5rem;
      flex-shrink: 0;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
    }

    .red .team-color {
      background-color: var(--red);
    }

    .blue .team-color {
      background-color: var(--blue);
    }

    .green .team-color {
      background-color: var(--green);
    }

    .yellow .team-color {
      background-color: var(--yellow);
    }

    .team-name {
      font-size: 1.5rem;
      font-weight: 700;
      flex-grow: 1;
      color: var(--text);
      transition: all 0.3s ease;
    }

    .points {
      font-size: 2.8rem;
      font-weight: 800;
      margin: 0 2rem;
      position: relative;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      color: var(--text);
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    }
    
    .first-place .points {
      color: #e67e22;
    }
    
    .controls {
      display: flex;
      gap: 0.75rem;
      flex-shrink: 0;
    }

    button {
      border: none;
      background: none;
      font-size: 1.2rem;
      cursor: pointer;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      color: white;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .btn-decrease {
      background-color: #e74c3c;
    }

    .btn-decrease:hover {
      background-color: #c0392b;
      transform: scale(1.05);
    }

    .btn-increase {
      background-color: #27ae60;
    }

    .btn-increase:hover {
      background-color: #219651;
      transform: scale(1.05);
    }

    .btn-decrease:active, .btn-increase:active {
      transform: scale(0.9);
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes bounce {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    @keyframes celebrate {
      0% { transform: scale(1); box-shadow: 0 8px 24px var(--shadow); }
      10% { transform: scale(1.05); box-shadow: 0 12px 32px var(--shadow); }
      30% { transform: scale(0.98); }
      50% { transform: scale(1.02); }
      100% { transform: scale(1); box-shadow: 0 8px 24px var(--shadow); }
    }

    @keyframes highlight {
      0% { background-color: inherit; }
      30% { background-color: rgba(255, 215, 0, 0.2); }
      100% { background-color: inherit; }
    }

    .highlighted {
      animation: highlight 1.5s ease;
    }

    .point-change {
      position: absolute;
      font-size: 2rem;
      font-weight: bold;
      animation: flyAway 1s ease-out forwards;
      pointer-events: none;
    }

    @keyframes flyAway {
      0% { opacity: 1; transform: translateY(0); }
      100% { opacity: 0; transform: translateY(-60px); }
    }

    footer {
      text-align: center;
      padding: 2rem;
      margin-top: auto;
      font-size: 0.9rem;
      opacity: 0.7;
    }

    .confetti-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1000;
      overflow: hidden;
    }

    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      opacity: 0;
      animation: confettiFall 4s ease-out forwards;
    }

    @keyframes confettiFall {
      0% { transform: translateY(-10px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }

    .settings {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: var(--card);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
      z-index: 100;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .settings:hover {
      transform: rotate(30deg);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    }

    .settings-menu {
      position: fixed;
      top: 80px;
      right: 20px;
      background-color: var(--card);
      border-radius: 16px;
      padding: 1.2rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      z-index: 100;
      display: none;
      animation: fadeIn 0.3s ease-out;
    }

    .settings-menu.active {
      display: block;
    }

    .settings-menu button {
      width: 100%;
      border-radius: 8px;
      height: 44px;
      margin-bottom: 0.75rem;
      color: var(--text);
      background-color: var(--background);
      font-size: 0.95rem;
      font-weight: 500;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      transition: all 0.2s ease;
    }

    .settings-menu button:hover {
      background-color: #e9ecef;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      h1 {
        font-size: 1.8rem;
      }
      
      .team-card {
        padding: 1.2rem 1rem;
      }
      
      .team-name {
        font-size: 1.2rem;
      }
      
      .points {
        font-size: 2rem;
        margin: 0 1rem;
      }
      
      button {
        width: 35px;
        height: 35px;
        font-size: 1rem;
      }
      
      .team-color {
        width: 30px;
        height: 30px;
        margin-right: 1rem;
      }
    }
    
    @media (max-width: 480px) {
      .team-card {
        flex-wrap: wrap;
      }
      
      .points {
        margin: 0 0.5rem;
      }
      
      .controls {
        margin-left: auto;
      }
    }

    /* Dark mode */
    body.dark-mode {
      --background: #121212;
      --text: #f8f9fa;
      --card: #1e1e1e;
      --shadow: rgba(0, 0, 0, 0.4);
    }
  </style>
</head>
<body>
  <header>
    <h1>Team Points Tracker</h1>
  </header>

  <div class="container">
    <div class="leaderboard-header">
      <div class="trophy-icon">üèÜ</div>
      <div class="leaderboard-title">LEADERBOARD</div>
    </div>
    
    <div id="teams-container">
      <!-- Team cards will be generated here -->
    </div>
  </div>

  <div class="settings">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="3"></circle>
      <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
    </svg>
  </div>

  <div class="settings-menu">
    <button id="reset-scores">Reset All Scores</button>
    <button id="toggle-theme">Toggle Dark Mode</button>
    <button id="set-milestone">Set Milestone at 50</button>
    <button id="trigger-celebration">Trigger Celebration</button>
  </div>

  <div class="confetti-container" id="confetti-container"></div>

  <footer>
    <p>Team Points Tracker | Made with ‚ù§Ô∏è</p>
  </footer>

  <script>
    // Define team data
    const teamData = [
      { id: 'red', name: 'Red Team', color: 'red' },
      { id: 'blue', name: 'Blue Team', color: 'blue' },
      { id: 'green', name: 'Green Team', color: 'green' },
      { id: 'yellow', name: 'Yellow Team', color: 'yellow' }
    ];
    
    // Sound synthesis for all sound effects
    let audioContext;
    
    // Try to initialize audio context
    try {
      audioContext = new (window.AudioContext || window.webkitAudioContext)();
    } catch (e) {
      console.error("Web Audio API not supported:", e);
    }
    
    // Function to create a simple sound
    function createSound(type, frequency, duration) {
      return function() {
        try {
          if (!audioContext) return; // Skip if audio context not available
          
          // Resume audio context if it's suspended (browser policy)
          if (audioContext.state === 'suspended') {
            audioContext.resume();
          }
          
          // Create oscillator
          const oscillator = audioContext.createOscillator();
          const gainNode = audioContext.createGain();
          
          oscillator.type = type;
          oscillator.frequency.value = frequency;
          gainNode.gain.value = 0.3;
          
          // Connect nodes
          oscillator.connect(gainNode);
          gainNode.connect(audioContext.destination);
          
          // Start and stop the sound
          oscillator.start();
          gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + duration);
          oscillator.stop(audioContext.currentTime + duration);
        } catch (e) {
          console.error("Error playing sound:", e);
        }
      };
    }
    
    // Create sound functions
    const playIncreaseSound = createSound('sine', 660, 0.1);
    const playDecreaseSound = createSound('sine', 440, 0.1);
    
    // Function to play celebration sound
    function playCelebrateSound() {
      try {
        if (!audioContext) return; // Skip if audio context not available
        
        // Resume audio context if it's suspended
        if (audioContext.state === 'suspended') {
          audioContext.resume();
        }
        
        const now = audioContext.currentTime;
        
        // Play a sequence of notes
        for (let i = 0; i < 5; i++) {
          const oscillator = audioContext.createOscillator();
          const gainNode = audioContext.createGain();
          
          oscillator.type = 'sine';
          oscillator.frequency.value = 500 + (i * 100);
          gainNode.gain.value = 0.2;
          
          oscillator.connect(gainNode);
          gainNode.connect(audioContext.destination);
          
          oscillator.start(now + (i * 0.1));
          gainNode.gain.exponentialRampToValueAtTime(0.001, now + (i * 0.1) + 0.2);
          oscillator.stop(now + (i * 0.1) + 0.2);
        }
      } catch (e) {
        console.error("Error playing celebration sound:", e);
      }
    }
    
    // DOM Elements
    const teamsContainer = document.getElementById('teams-container');
    const settingsButton = document.querySelector('.settings');
    const settingsMenu = document.querySelector('.settings-menu');
    const resetButton = document.getElementById('reset-scores');
    const themeToggle = document.getElementById('toggle-theme');
    const confettiContainer = document.getElementById('confetti-container');
    const celebrationButton = document.getElementById('trigger-celebration');
    const milestoneButton = document.getElementById('set-milestone');
    
    // Milestone value
    let milestone = 50;

    // Create team cards from data
    function createTeamCards() {
      const teamsFragment = document.createDocumentFragment();
      
      teamData.forEach((team, index) => {
        const card = document.createElement('div');
        card.className = `team-card ${team.color}`;
        card.dataset.team = team.id;
        
        const points = localStorage.getItem(`team-${team.id}`) || '0';
        
        card.innerHTML = `
          <div class="rank">${index + 1}</div>
          <div class="team-color"></div>
          <h2 class="team-name">${team.name}</h2>
          <div class="points" data-points="${points}">${points}</div>
          <div class="controls">
            <button class="btn-decrease">-</button>
            <button class="btn-increase">+</button>
          </div>
        `;
        
        teamsFragment.appendChild(card);
      });
      
      teamsContainer.appendChild(teamsFragment);
    }

    // Get team points
    function getTeamsWithPoints() {
      const teamCards = document.querySelectorAll('.team-card');
      
      return Array.from(teamCards).map(card => {
        return {
          id: card.dataset.team,
          points: parseInt(card.querySelector('.points').dataset.points),
          element: card
        };
      });
    }

    // Save points to localStorage
    function savePoints(teamId, points) {
      localStorage.setItem(`team-${teamId}`, points);
    }

    // Handle point changes (increase or decrease)
    function updatePoints(teamId, change) {
      // Find the card with the matching data-team attribute
      const card = document.querySelector(`.team-card[data-team="${teamId}"]`);
      if (!card) return;
      
      const pointsElement = card.querySelector('.points');
      let currentPoints = parseInt(pointsElement.dataset.points);
      
      // Only decrease if points > 0
      if (change < 0 && currentPoints <= 0) return;
      
      // Update points
      currentPoints += change;
      pointsElement.textContent = currentPoints;
      pointsElement.dataset.points = currentPoints;
      savePoints(teamId, currentPoints);
      
      // Log for debugging
      console.log(`${change > 0 ? 'Increased' : 'Decreased'} ${teamId} points to ${currentPoints}`);
      
      // Play appropriate sound
      if (change > 0) {
        playIncreaseSound();
        animatePointsChange(pointsElement, '+1', 'green');
      } else {
        playDecreaseSound();
        animatePointsChange(pointsElement, '-1', 'red');
      }
      
      // Animate points change
      pointsElement.style.animation = 'bounce 0.5s';
      setTimeout(() => {
        pointsElement.style.animation = '';
      }, 500);
      
      // Add highlight class to the card
      card.classList.add('highlighted');
      setTimeout(() => {
        card.classList.remove('highlighted');
      }, 1500);
      
      // Check for milestone (only on increase)
      if (change > 0) {
        checkMilestone(currentPoints, teamId);
      }
      
      // Force sorting immediately
      sortTeams();
    }

    // Animate point change
    function animatePointsChange(element, value, color) {
      const pointChange = document.createElement('span');
      pointChange.textContent = value;
      pointChange.className = 'point-change';
      pointChange.style.color = color;
      
      // Position the element
      pointChange.style.left = '50%';
      pointChange.style.top = '0';
      pointChange.style.transform = 'translateX(-50%)';
      
      element.appendChild(pointChange);
      
      // Remove after animation completes
      setTimeout(() => {
        if (pointChange.parentNode === element) {
          element.removeChild(pointChange);
        }
      }, 1000);
    }

    // Sort teams based on points
    function sortTeams() {
      console.log("Sorting teams...");
      
      // Get teams with points
      const teams = getTeamsWithPoints();
      
      // Sort by points (descending)
      teams.sort((a, b) => b.points - a.points);
      
      // Recreate all team cards
      teamsContainer.innerHTML = '';
      
      teams.forEach((team, index) => {
        const teamInfo = teamData.find(t => t.id === team.id);
        
        const card = document.createElement('div');
        card.className = `team-card ${teamInfo.color}`;
        card.dataset.team = team.id;
        
        // Determine if this team is in a special place
        let placeClass = '';
        if (index === 0) placeClass = 'first-place';
        else if (index === 1) placeClass = 'second-place';
        else if (index === 2) placeClass = 'third-place';
        
        if (placeClass) {
          card.classList.add(placeClass);
        }
        
        card.innerHTML = `
          <div class="rank">${index + 1}</div>
          <div class="team-color"></div>
          <h2 class="team-name">${teamInfo.name}</h2>
          <div class="points" data-points="${team.points}">${team.points}</div>
          <div class="controls">
            <button class="btn-decrease">-</button>
            <button class="btn-increase">+</button>
          </div>
        `;
        
        teamsContainer.appendChild(card);
      });
      
      console.log("Sorting complete");
    }
    
    // Check for milestone and celebrate
    function checkMilestone(points, teamId) {
      if (points === milestone) {
        const card = document.querySelector(`.team-card[data-team="${teamId}"]`);
        if (!card) return;
        
        card.style.animation = 'celebrate 1s';
        setTimeout(() => {
          card.style.animation = '';
        }, 1000);
        createConfetti(20, teamId);
        
        // Play celebration sound
        playCelebrateSound();
      }
    }

    // Create confetti
    function createConfetti(count, teamId) {
      const colors = {
        red: '#ff5a5f',
        blue: '#3498db',
        green: '#2ecc71',
        yellow: '#f1c40f'
      };
      
      const teamColor = colors[teamId] || '#ffffff';
      
      for (let i = 0; i < count; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.backgroundColor = i % 3 === 0 ? teamColor : (i % 3 === 1 ? '#ffffff' : '#000000');
        confetti.style.left = `${Math.random() * 100}%`;
        confetti.style.animationDuration = `${Math.random() * 3 + 2}s`;
        confetti.style.width = `${Math.random() * 10 + 5}px`;
        confetti.style.height = `${Math.random() * 10 + 5}px`;
        confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
        
        confettiContainer.appendChild(confetti);
        
        // Remove confetti after animation completes
        setTimeout(() => {
          if (confetti.parentNode === confettiContainer) {
            confettiContainer.removeChild(confetti);
          }
        }, 5000);
      }
    }

    // Set up event listeners
    function setupEventListeners() {
      // Use event delegation for team cards - detect button clicks
      teamsContainer.addEventListener('click', (event) => {
        // Find the closest button if it exists
        const button = event.target.closest('button');
        if (!button) return;
        
        // Get team ID from the parent card
        const card = button.closest('.team-card');
        if (!card) return;
        
        const teamId = card.dataset.team;
        
        // Check which button was clicked
        if (button.classList.contains('btn-increase')) {
          updatePoints(teamId, 1);
        } else if (button.classList.contains('btn-decrease')) {
          updatePoints(teamId, -1);
        }
      });
      
      // Toggle settings menu
      settingsButton.addEventListener('click', () => {
        settingsMenu.classList.toggle('active');
      });
      
      // Close settings menu when clicking outside
      document.addEventListener('click', (event) => {
        if (!settingsButton.contains(event.target) && !settingsMenu.contains(event.target)) {
          settingsMenu.classList.remove('active');
        }
      });
      
      // Reset all scores
      resetButton.addEventListener('click', () => {
        // Reset points in localStorage
        teamData.forEach(team => {
          savePoints(team.id, '0');
        });
        
        // Update the DOM
        const cards = document.querySelectorAll('.team-card');
        cards.forEach(card => {
          // Set points to 0
          const pointsElement = card.querySelector('.points');
          pointsElement.textContent = '0';
          pointsElement.dataset.points = '0';
          
          // Add animation
          card.style.animation = 'celebrate 1s';
          setTimeout(() => {
            card.style.animation = '';
          }, 1000);
        });
        
        // Resort the teams immediately
        sortTeams();
        
        settingsMenu.classList.remove('active');
      });
      
      // Toggle dark mode
      themeToggle.addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');
        localStorage.setItem('dark-mode', document.body.classList.contains('dark-mode'));
        settingsMenu.classList.remove('active');
      });
      
      // Set milestone
      milestoneButton.addEventListener('click', () => {
        const newMilestone = prompt('Enter milestone value:', milestone);
        if (newMilestone !== null && !isNaN(newMilestone)) {
          milestone = parseInt(newMilestone);
          alert(`Milestone set at ${milestone} points!`);
          milestoneButton.textContent = `Set Milestone at ${milestone}`;
        }
        settingsMenu.classList.remove('active');
      });
      
      // Trigger celebration for all teams
      celebrationButton.addEventListener('click', () => {
        const cards = document.querySelectorAll('.team-card');
        cards.forEach(card => {
          card.style.animation = 'celebrate 1s';
          setTimeout(() => {
            card.style.animation = '';
          }, 1000);
          createConfetti(10, card.dataset.team);
        });
        
        // Play celebration sound
        playCelebrateSound();
        
        settingsMenu.classList.remove('active');
      });
    }

    // Initialize the app
    function init() {
      // Load dark mode preference
      if (localStorage.getItem('dark-mode') === 'true') {
        document.body.classList.add('dark-mode');
      }
      
      // Create team cards
      createTeamCards();
      
      // Sort teams on initial load
      sortTeams();
      
      // Set up event listeners
      setupEventListeners();
      
      console.log('Team Points Tracker initialized');
    }
    
    // Start the app when DOM is fully loaded
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>